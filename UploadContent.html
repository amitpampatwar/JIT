<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" rel="Stylesheet" media="screen,print" href="css/uikit.docs.min.css" />    
    <link type="text/css" rel="Stylesheet" media="screen,print" href="css/docs.css" />
    <link type="text/css" rel="Stylesheet" media="screen,print" href="css/highlight.css" />

    <script type="text/javascript" src="js/jquery-1.12.3.js"></script>
    <script type="text/javascript" src="js/docs.js"></script>
    <script type="text/javascript" src="js/uikit.js"></script>
    <script type="text/javascript" src="js/components/sticky.js"></script>
    <script type="text/javascript" src="js/components/slideshow.js"></script>
    <script type="text/javascript" src="js/components/slideshow-fx.js"></script>
    <script type="text/javascript" src="js/components/upload.js"></script>
    <script type="text/javascript" src="js/components/datepicker.js"></script>
    <script type="text/javascript" src="js/footer.js"></script>
    <script type="text/javascript" src="js/header.js"></script>
  </head>
  <script>
    var textareaCounter = 0;
    var listitemCounter = 0;
    var tableCounter = 0;
    var headerCounter = 0;
    var eachTableContent = [];
    var eachRowCounter = [];
    
    $(document).ready(function() {            
      $('input[type="file"]').change(function(e) {
        var fileUploadContent = "";
        
        $.each(e.target.files, function(index, objFile) {
          fileUploadContent = fileUploadContent + "<div class=\"uk-form-row uk-alert uk-width-1-1\" data-uk-alert><a href=\"\" class=\"uk-alert-close uk-close\"></a><p>" + objFile.name + "</p></div>";
        });
        
        $("#uploadContent").prepend(fileUploadContent);
      });
      
      $("#addParegraph").click(function() {        
        var contentData = "";

        contentData = contentData + "<div class=\"uk-form-row uk-alert uk-alert-large\" data-uk-alert><a href=\"\" class=\"uk-alert-close uk-close\"></a><h2>Paregraph</h2>";
        contentData = contentData + "<textarea id=\"txtParegraph" + textareaCounter + "\" rows=\"7\" placeholder=\"Add Content...\" class=\"uk-width-1-1\"></textarea></div>";

        textareaCounter = textareaCounter + 1;

        $("#uploadContent").append(contentData);
      });
      
      $("#addListItem").click(function() {        
        var contentData = "";

        contentData = contentData + "<div class=\"uk-form-row uk-alert uk-alert-large uk-width-1-2\" data-uk-alert><a href=\"\" class=\"uk-alert-close uk-close\"></a><h2>List Item</h2>";
        contentData = contentData + "<input id=\"txtList" + listitemCounter + "\" type=\"Text\" placeholder=\"Add List Item...\" class=\"uk-width-1-1\"></input></div>";

        listitemCounter = listitemCounter + 1;

        $("#uploadContent").append(contentData);
      });
      
      $("#addSubHeader").click(function() {        
        var contentData = "";

        contentData = contentData + "<div class=\"uk-form-row uk-alert uk-alert-large uk-width-1-1\" data-uk-alert><a href=\"\" class=\"uk-alert-close uk-close\"></a><h2>Sub Header</h2>";
        contentData = contentData + "<input id=\"txtSubHeader" + headerCounter + "\" type=\"Text\" placeholder=\"Add Sub Header...\" class=\"uk-width-1-1\"></input></div>";

        headerCounter = headerCounter + 1;

        $("#uploadContent").append(contentData);
      });
      
      $("#addRow").click(function() {        
        var contentData = "";
        var noOfColumns = $("#columnNo").val();
                
        contentData = contentData + "<!--StartTable:" + tableCounter + "--><div id=\"table" + tableCounter +"\" class=\"uk-form-row uk-alert uk-alert-large\" data-uk-alert><a href=\"\" class=\"uk-alert-close uk-close\"></a><h2>Table</h2><button id=\"tbl" + tableCounter + "\" class=\"tblRow uk-button uk-button-small uk-button-primary\" type=\"button\" onclick=\"AddRows(" + noOfColumns + "," + tableCounter + ");\">Add Row</button>";
        contentData = contentData + "<p>First row of the table will be considered as the 'Header' Row</p><hr class=\"uk-article-divider\"><!--StartHeader:" + tableCounter + "--><div id=\"row\" class=\"uk-form-row uk-alert uk-width-1-1\">";
        
        for (var index = 0; index < noOfColumns; index++) {
          contentData = contentData + "<input id=\"txtHeader" + tableCounter + index + "\" type=\"Text\" placeholder=\"Header\" class=\"uk-width-1-6\"></input>";
        }
        
        contentData = contentData + "</div><!--EndHeader:" + tableCounter + "--></div><!--EndTable:" + tableCounter + "-->";
        
        eachTableContent[tableCounter] = contentData;
        
        tableCounter = tableCounter + 1;

        $("#uploadContent").append(contentData);
      });
      
      $("#createContent").click(function() {
        var Object = [];
        var Title = { "Title" : $("#txtTitle").val() };        
        var Content = [];
        var Lists = [];
        var Table = [];
        var Rows = [];
        var Header = [];
        
        var htmlContent = $.parseHTML($("#uploadContent").html().trim());
        var isListPresent = false;
        var isTablePresent = false;

        $.each(htmlContent, function(index, objContent) {
          if (objContent.nodeName.toLowerCase().indexOf("comment") >= 0) {
            if (objContent.nodeValue.toLowerCase().indexOf("endtable") >= 0) {
              var tmpTable = Table.slice();
              var tmpHeader = Header.slice();
              var tmpRows = Rows.slice();
              
              /*var TableHeader = { "Header" : tmpHeader };
              tmpTable.push(TableHeader);
              
              var TableRows = { "Rows" : tmpRows };
              tmpTable.push(TableRows);*/

              var TableDetails = { "Table" : { "Header" : tmpHeader, "Rows" : tmpRows } };
              Content.push(TableDetails);
              
              Table.splice(0, Table.length);
              Rows.splice(0, Rows.length);
              Header.splice(0, Header.length);
            }
          }
          else {          
            $.each(objContent.childNodes, function(index, objChildNode) {
              if (objChildNode.nodeName.toLowerCase().indexOf("comment") < 0) {                          
                if (objChildNode.id.toLowerCase().indexOf("txtparegraph") >= 0) {
                  if (isListPresent) {
                    var tmpLists = Lists.slice();
                    isListPresent = false;

                    var ListDetails = { "Lists" : tmpLists };
                    Content.push(ListDetails);
                    
                    Lists.splice(0, Lists.length);
                  }

                  var myParegraph = document.getElementById(objChildNode.id);
                  var Text = { "Text" : myParegraph.value };
                  var Paregraphs = { "Paregraphs" : [Text] };

                  Content.push(Paregraphs);
                }

                if (objChildNode.id.toLowerCase().indexOf("txtsubheader") >= 0) {
                  if (isListPresent) {
                    var tmpLists = Lists.slice();
                    isListPresent = false;

                    var ListDetails = { "Lists" : tmpLists };
                    Content.push(ListDetails);
                    
                    Lists.splice(0, Lists.length);
                  }

                  var mySubHeader = document.getElementById(objChildNode.id);
                  var Text = { "H2" : mySubHeader.value };
                  var Paregraphs = { "Paregraphs" : [Text] };

                  Content.push(Paregraphs);
                }

                if (objChildNode.id.toLowerCase().indexOf("txtlist") >= 0) {
                  isListPresent = true;

                  var myListItem = document.getElementById(objChildNode.id);
                  var Text = { "Value" : myListItem.value };

                  Lists.push(Text);
                }

                if (objChildNode.id.toLowerCase().indexOf("row") >= 0) {                                
                  var Cell = [];
                  var isHeader = false;

                  if (isListPresent) {
                    var tmpLists = Lists.slice();
                    isListPresent = false;

                    var ListDetails = { "Lists" : tmpLists };
                    Content.push(ListDetails);
                    
                    Lists.splice(0, Lists.length);
                  }

                  $.each(objChildNode.childNodes, function(index, objTableRow) {
                    if (objTableRow.nodeName.toLowerCase().indexOf("comment") < 0) { 
                      if (objTableRow.id.toLowerCase().indexOf("txtheader") >= 0) {
                        var myTableHeader = document.getElementById(objTableRow.id);
                        var Text = { "Cell" : myTableHeader.value };

                        isHeader = true;

                        Header.push(Text);
                      }

                      if (objTableRow.id.toLowerCase().indexOf("txtcell") >= 0) {
                        var myTableCell = document.getElementById(objTableRow.id);
                        var Text = { "Cell" : myTableCell.value };

                        isHeader = false;

                        Cell.push(Text);
                      }
                    }
                  });

                  if (!isHeader) {                    
                    var tableHeader = { "Row" : Cell };
                    Rows.push(tableHeader);
                  }                            
                }
              }
            });
          }
        });

        if (isListPresent) {
          var tmpLists = Lists.slice();
          isListPresent = false;

          var ListDetails = { "Lists" : tmpLists };
          Content.push(ListDetails);

          Lists.splice(0, Lists.length);
        }
        
        var objectData;
            
        if ($("#contentDate").val() != "") {
          objectData = [{ "Title" : $("#txtTitle").val(), "CreatedDate" : $("#contentDate").val(), "Content" : [Content]}]; 
        }
        else {
          objectData = [{ "Title" : $("#txtTitle").val(), "Content" : Content}]; 
        }
        
        var objectData = [{ "Title" : $("#txtTitle").val(), "Content" : Content}]; 
        var jsonData = JSON.stringify(objectData);
      });            
    });
    
    function AddRows(columnNo, tableCounter) {
      var tableDetails = document.getElementById("table" + tableCounter);
      var tableContent = "";
      
      if (isNaN(eachRowCounter[tableCounter])) {
        eachRowCounter[tableCounter] = 0;
      }

      tableContent = tableContent + "<!--StartRow:" + tableCounter + eachRowCounter[tableCounter] + "-->";
      tableContent = tableContent + "<div id=\"row\" class=\"uk-form-row uk-alert uk-width-1-1\">"          

      for (var index = 0; index < columnNo; index++) {
        tableContent = tableContent + "<input id=\"txtCell" + tableCounter + eachRowCounter[tableCounter] + index + "\" type=\"Text\" placeholder=\"Cell\" class=\"uk-width-1-6\"></input>";
      }

      tableContent = tableContent + "</div><!--EndRow:" + tableCounter + eachRowCounter[tableCounter] + "-->";
      
      tableDetails.appendChild($(tableContent)[0]);
      tableDetails.appendChild($(tableContent)[1]);
      tableDetails.appendChild($(tableContent)[2]);
      
      eachRowCounter[tableCounter] = eachRowCounter[tableCounter] + 1;      
    }
  </script>
  <body class="tm-background">
    <header id="header"></header>
    <div class="tm-middle">
      <div class="uk-container uk-container-center">
        <div class="uk-grid" data-uk-grid-margin="">
          <div id="subMenu" class="tm-sidebar uk-width-medium-1-4 uk-hidden-small uk-row-first"></div>
          <div class="tm-main uk-width-medium-3-4">
            <article id="uploadParameters" class="uk-comment">
              <div class="uk-form uk-width-medium-1-1">       
                <div class="uk-form-row">                              
                  <input id="txtTitle" type="text" placeholder="Title.." class="uk-width-1-2" />
                  <input id="contentDate" placeholder="Date" type="text" class="uk-width-1-4" data-uk-datepicker="{format:'DD-MM-YYYY'}">
                </div>
                <div class="uk-form-row">                              
                  <select id="category" class="uk-width-1-4">
                    <option>--Select </option>
                    <option value="News">News</option>
                    <option value="FirstYear">First Year</option>
                    <option value="Electronics">Electronics</option>
                    <option value="Electrical">Electrical</option>
                    <option value="ComputerScience">Computer Science</option>
                    <option value="Mechanical">Mechanical</option>
                    <option value="MBA">MBA</option>
                  </select>
                </div>
              </div>
              <hr class="uk-article-divider">
              <div class="uk-form uk-width-medium-1-2">
                <div class="uk-form-row">                              
                  <input id="addParegraph" type="button" class="uk-button uk-width-1-3" value="Add Paregraph" />                  
                </div>
                <hr class="uk-article-divider">
                <div class="uk-form-row">                              
                  <input id="addSubHeader" type="button" class="uk-button uk-width-1-3" value="Add Sub Header" />                  
                </div>
                <hr class="uk-article-divider">
                <div class="uk-form-row">
                  <input id="addListItem" type="button" class="uk-button uk-width-1-3" value="Add List Item" />                  
                </div>
                <hr class="uk-article-divider">
                <div class="uk-form-row">
                  <input id="columnNo" type="number" min="0" max="10" value="3" class="uk-form-width-mini uk-form-small">
                  <input id="addRow" type="button" class="uk-button uk-width-1-3" value="Add Table" />
                </div>
                <hr class="uk-article-divider">
                <div class="uk-form-row">
                  <div class="uk-form-file">
                    <button class="uk-button">Add Images +</button>
                    <input type="file" name="files[]" multiple="" accept="image/x-png, image/gif, image/jpeg, image/jpg">
                  </div>
                </div>
              </div>
            </article>
            <hr class="uk-article-divider">
            <article class="uk-comment">
              <div id="uploadContent" class="uk-form uk-width-medium-1-1">
              </div>
              <hr class="uk-article-divider">
              <input id="createContent" type="button" class="uk-button uk-width-1-6" value="Save" />
              <input id="cancel" type="button" class="uk-button uk-width-1-6" value="Cancel" />
            </article>
          </div>
        </div>
      </div>
    </div>    
    <footer id="footer">
      <div class="tm-footer">
        <div class="uk-container uk-container-center uk-text-center">
          <ul class="uk-subnav uk-subnav-line uk-flex-center">
            <li><a href="#">Jobs</a></li>
            <li><a href="#">News</a></li>
            <li><a href="#">Rules &amp; Regulations</a></li>
            <li><a href="#">Gallery</a></li>
          </ul>
          <div class="uk-panel">
            <p>All Rights Reserved with Samruddhi Sarwajanik Charitable Trust, <br/>Jhulelal Institute Of Technology, Nagpur</p>
            <a href="../index.html"><img src="images/SiteLogo.png" width="90" height="30" title="JIT" alt="JIT"></a>
          </div>
        </div>
      </div>
      <div id="tm-offcanvas" class="uk-offcanvas">
        <div class="uk-offcanvas-bar">
          <ul id="footerList" class="uk-nav uk-nav-offcanvas uk-nav-parent-icon" data-uk-nav="{multiple:true}"></ul>
        </div>
      </div>
    </footer>
  </body>
</html>